<!-- Copyright Â© 2024 Huly Labs. Use of this source code is governed by the Apache 2.0 license. -->

<idea-plugin>
  <name>Huly Code Lang Configurator</name>
  <category>Other Tools</category>
  <id>hulylabs.hulycode.plugins.hulylangconfigurator</id>
  <vendor url="https://hulylabs.com/">Huly Labs</vendor>
  <description>
    Configures languages support for opened files.
  </description>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.redhat.devtools.lsp4ij</depends>

  <resource-bundle>messages.HulyLangConfiguratorBundle</resource-bundle>

  <extensions defaultExtensionNs="com.intellij">
    <editorNotificationProvider
      implementation="com.hulylabs.intellij.plugins.langconfigurator.LanguageServerConfigSetupNotificationProvider"/>
    <notificationGroup id="Language Server Configuration" displayType="BALLOON"/>
    <postStartupActivity implementation="com.hulylabs.intellij.plugins.langconfigurator.ProjectStartupActivity"/>
    <workspaceModel.fileIndexContributor implementation="com.hulylabs.intellij.plugins.langconfigurator.gitignore.ContentRootFileIndexIgnoreContributor"/>
    <fileType name="Rust" extensions="rs" implementationClass="com.hulylabs.intellij.plugins.langconfigurator.fileTypes.RustFileType"/>
    <fileType name="TypeScript" extensions="ts" implementationClass="com.hulylabs.intellij.plugins.langconfigurator.fileTypes.TypeScriptFileType"/>
  </extensions>

  <applicationListeners>
    <listener class="com.hulylabs.intellij.plugins.langconfigurator.gitignore.GitIgnoreFileListener"
              topic="com.intellij.openapi.vfs.newvfs.BulkFileListener"/>
  </applicationListeners>

  <actions>
    <group id="WelcomeScreen.QuickStart.IDEA">
      <action id="WelcomeScreen.OpenProject" class="com.intellij.ide.actions.OpenFileAction$OnWelcomeScreen"/>
      <add-to-group group-id="WelcomeScreen.QuickStart" anchor="first"/>
    </group>
  </actions>
</idea-plugin>